
<!DOCTYPE html>
<script src="../simpletest.js"></script>
<script>

/*
PROTOTYPE IMPLEMENTATION
function splice2(array, start, delCount, ...items) {
      // debugger;
      let deleteElementsArray = [];
      let copiedArray = Array.from(array);
      let arrayLength = array.length;
      let deleteCount = arrayLength;
      let tempArray = [];
      console.log('arguments', arguments)
      console.log('items length',   items.length)

      // start conditions
      // in this case no element should be deleted but the method will behave as an adding function
      if(start > arrayLength) {
        start = arrayLength;
      }

      if(start < 0) {
        start = arrayLength + start;
        if(start < 0) {
          start = 0;
        }
      }

      if(delCount) {
        deleteCount = delCount
      }

      // if it is equal to or greater than the number of elements left in the array, starting at start), then all the elements from start to the end of the array will be deleted.
      if(deleteCount >= arrayLength - start) {
        deleteCount = arrayLength;
      }

      if(start > deleteCount) {
        deleteCount = deleteCount + start;
      }


      //push into deleteElementsArray
      for(i = start; i < deleteCount; i++) {
        deleteElementsArray.push(copiedArray[i]);
        delete array[i];
      }

      for(let i of array) {
        i && tempArray.push(i);
      }

      array = tempArray;
      // I need to figure out how to trip the length of the array;
      // array.length = array.length - deleteElementsArray.length;

      // for(i = start; i < array.length; i++) {

      // }
      // if(delCount === 0) {

      // }


      console.log('deleteElementsArray', deleteElementsArray);
      console.log('original array', array)
    }

    console.log(splice2(months, 2))
    // splice2(months);

SYNTAX
let arrDeletedItems = splice(array, start[, deleteCount[, item1[, item2[, ...]]]])

PARAMETERS
start - The index at which to start changing the array.
deleteCount (optional)
item1, item2, ... (optional)


RETURN VALUE
An array containing the deleted elements.
*/

/*

TESTS
DONE: It should mutate the original array
DONE: It should return an new array containing the deleted items
DONE: If only one element is removed, an array of one element is returned.
DONE: If no elements are removed, an empty array is returned.
If the specified number of elements to insert differs from the number of elements being removed, the array's length will be different at the end of the call.

If start is  greater than the length of the array, start will be set to the length of the array. In this case, no element will be deleted but the method will behave as an adding function, adding as many element as item[n*] provided.

If start is negative, it will begin that many elements from the end of the array. (In this case, the origin -1, meaning -n is the index of the nth last element, and is therefore equivalent to the index of array.length - n.)

If array.length + start is less than 0, it will begin from index 0.

If deleteCount is omitted, or if its value is equal to or larger than array.length - start then all the elements from start to the end of the array will be deleted.

If deleteCount is 0 or negative, no elements are removed.

The elements to add to the array, beginning from start. If you do not specify any elements, splice() will only remove elements from the array.






*/

function splice(array, start, delCount) {
  let deleteElementsArray = [];
  let deleteCount = delCount;
  let arrayLength = array.length;
  let tempArray = [];
  let copiedArray = Array.from(array);



  for(i = start; i < deleteCount; i++) {
    deleteElementsArray.push(copiedArray[i]);
    delete array[i];
  }

  for(let i of array) {
    i && tempArray.push(i);
  }
  array = tempArray;

  return deleteElementsArray;


}

tests({
'It should mutate the original array': function() {
  const testArray = ['angel', 'clown', 'drum', 'mandarin', 'sturgeon']
  eq(testArray[0], 'angel');
  const result = splice(testArray, 0, 1)
  eq(testArray[0], undefined);
},
'It should return an new array containing the deleted items': function() {
  const testArray = ['angel', 'clown', 'drum', 'mandarin', 'sturgeon']
  const result = splice(testArray, 0, 1)
  eq(result[0], 'angel');
},
'If only one element is removed, an array of one element is returned.': function() {
  const testArray = ['angel', 'clown', 'drum', 'mandarin', 'sturgeon']
  const delCount = 1;
  const result = splice(testArray, 0, delCount);
  eq(result.length, delCount);
},
'If no elements are removed, an empty array is returned.': function() {
  const testArray = ['angel', 'clown', 'drum', 'mandarin', 'sturgeon']
  const delCount = 0;
  const result = splice(testArray, 1, 0);
  eq(result.length, 0);
},
'It should return return empty array if start is undefined': function() {
  const testArray = ['angel', 'clown', 'drum', 'mandarin', 'sturgeon']
  const start = undefined;
  const result = splice(testArray, start);
  eq(result.length, 0);
},
'If item.length differs from the number delCount, the arrays length will be different at the end of the call.': function() {
  fail();
},
'If start is greater than the length of the array, start will be array.length': function() {
  const testArray = ['angel', 'clown', 'drum', 'mandarin', 'sturgeon']
  const delCount = 0;
  const result = splice(testArray, 1, 0);
  eq(result.length, 0);
  fail();
}

});

</script>


