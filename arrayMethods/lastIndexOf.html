<script src="../simpletest.js"></script>
<script>

/*
PROTOTYPE IMPLEMENTATION
  const numbers = [2, 5, 9, 2];

  function indexOf(array, searchEl, fromIndex) {
    const length = array.length
    let startIndex = length - 1;

    if(fromIndex) {
      startIndex = fromIndex;
    }

    if(fromIndex && fromIndex < 0) {
      startIndex = length + fromIndex; 
    }

    for(i = startIndex; i >=0; i--) {
      if(searchEl === array[i]) {
        return i;
      }
    }
    return -1;
  }

  console.log(indexOf(numbers, 2, -1));

The lastIndexOf() method returns the last index at which a given element can be found in the array, or -1 if it is not present. The array is searched backwards, starting at fromIndex.

SYNTAX
arr.indexOf(array, searchElement[, fromIndex])

PARAMETERS
searchElement
fromIndex (optional)

RETURN VALUE
The last index of the element in the array; -1 if not found.
*/

/*

TESTS
It should return the last index of the searchElement in the array.
It should return -1 if the searchElement is not found in the array.
It should start searching at the index passed in as the 3rd parameter.
If the fromIndex parameter value is a negative number, it is taken as the offset from the end of the array.
It should search the entire array if the fromIndex is greater than or equal to the array's length.
It should search the whole array if no index is provided.
It should search the whole array if the provided index is 0.

If the calculated index is less than 0, -1 is returned, i.e. the array will not be searched.

*/

function lastIndexOf(array, searchEl, fromIndex) {
  const length = array.length
  let startIndex = length - 1;

  if(fromIndex) {
    startIndex = fromIndex;
  }

  for(i = startIndex; i >=0; i--) {
    if(searchEl === array[i]) {
      return i;
    }
  }
  return -1;
}


tests({
  'It should return the last index of the searchElement in the array.': function() {
    const result = lastIndexOf([1, 2, 3], 2);
    eq(result, 1);
  },
  'It should return -1 if the searchElement is not found in the array.': function() {
    const result = lastIndexOf([1, 2, 3], 4);
    eq(result, -1)
  },
  'It should start searching at the index passed in as the 3rd parameter.': function() {
    const result = lastIndexOf([1, 1, 1, 1, 1], 1, 2);
    eq(result, 2);
  },
  'If the fromIndex parameter value is a negative number, it is taken as the offset from the end of the array.': function() {
    const result = lastIndexOf([1, 2, 3, 4], 3, -1);
    eq(result, -1)
  },
  'It should search the entire array if the fromIndex is greater than or equal to the array/s length.': function() {
    fail();
    const result = indexOf([1, 2, 3], 2, 4);
    eq(result, -1);
  },
  'It should search the whole array if no index is provided  (arr.length - 1).': function() {
    fail();
  },
  'It should search the whole array if no index is provided.': function() {
    fail();
    const result = indexOf([1, 2, 3], 3);
    eq(result, 2);
  },
  'It should search the whole array if the provided index is 0.': function() {
    fail();
    const result = indexOf([1, 2, 3], 3, 0);
    eq(result, 2);
  }


});



</script>
