
<!DOCTYPE html>
<script src="../simpletest.js"></script>
<script>

/*
PROTOTYPE IMPLEMENTATION
  const animals = ['pigs', 'goats', 'sheep'];

  function push(array, ...element) {
    for(i = 0; i < element.length; i++) {
      array[array.length] = element[i]
    }

    return array.length;
  }

  console.log(push(animals, "dog", "cat"));


The push() method adds one or more elements to the end of an array and returns the new length of the array.

SYNTAX
arr.push(array, element1[, ...[, elementN]])

PARAMETERS
element1

RETURN VALUE
The new length property of the object upon which the method was called.
*/

/*

TESTS
It should add an element to the end of an array.
It should return the new length property of the object upon which the method was called.
The push method relies on a length property to determine where to start inserting the given values.
If the length property cannot be converted into a number, the index used is 0.
This includes the possibility of length being nonexistent, in which case length will also be created.
It can be used with call() or apply() on objects resembling arrays.


*/

function push(array, ...element) {

  if(typeof array === "string") {
    throw new TypeError(`${array} .push is not a function`)
  }

  if(Number.isInteger(array.length) === false) {
    array.length = 0;
  }

  for(i = 0; i < element.length; i++) {
    array[array.length] = element[i];
  }
 
  return array.length;
}

tests({
 'It should add an element to the end of an array.': function() {
    const testArray = [1, 2, 3];
    push(testArray, 4);
    eq(testArray[3], 4);
 },
 'It should add multiple elements to the end of an array.': function() {
  const testArray = [1, 2, 3];
    push(testArray, 4, 5);
    eq(testArray[3], 4);
    eq(testArray[4], 5);
 },
 'It should return the new length property of the object upon which the method was called.': function() {
    const testArray = [1, 2, 3];
    const result = push(testArray, 4);
    eq(result, 4);
 },
 'The push method relies on a length property to determine where to start inserting the given values.': function() {
    const testArray = [1, 2, 3];
    eq(testArray.length, 3);
    push(testArray, 4);
    eq(testArray.length, 4);
 },
 'It should give an Uncaught TypeError if used on a string': function() {
    let isTypeError = false;
    try {
      push('', 1);
    } catch(e) {
      isTypeError =  (e instanceof TypeError);
    }
    eq(isTypeError, true);
 },
 'If the length property cannot be converted into a number, the index used is 0.': function() {
  //  debugger;
    const testArray = { length: "string" };
    const result = push(testArray, 1, 1);
    eq(testArray.length, 0);
    eq(result, 2);
 },
 'This includes the possibility of length being nonexistent, in which case length will also be created.': function() {
    fail();
 },
 'It can be used with call() or apply() on objects resembling arrays.': function() {
    fail();
 }
});

</script>




